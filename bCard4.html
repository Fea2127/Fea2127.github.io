<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Birthday Card</title><!--The One I Want  -->
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root {
      --card-w: 700px;
      --card-h: 450px;
      --gold: #d4af37;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      display: flex; align-items: center; justify-content: center;
      min-height: 100vh;
      background: linear-gradient(135deg,#ffeef0,#fff5e6);
      font-family: "Segoe UI", sans-serif;
      overflow: hidden;
    }

    .book {
      height: var(--card-h);
      width: calc(var(--card-w) / 2); /* closed: half width */
      perspective: 2200px;
      position: relative;
      border: 4px solid var(--gold);
      border-radius: 12px;
      box-shadow: 0 18px 50px rgba(0,0,0,.18);
      background: #fffdf5;
      overflow: hidden;
      transition: width 1s ease;
    }
    .book.open { width: var(--card-w); }

    /* Inside pages */
    .inside-left, .inside-right {
      position: absolute;
      top: 0; height: 100%; width: 50%;
      background: linear-gradient(180deg,#fffdf5,#fff8ea);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      padding: 20px; text-align: center;
      visibility: hidden;
      z-index: 0;
    }
    .inside-left { left: 0; border-right: 1px solid #eee; }
    .inside-right { right: 0; border-left: 1px solid #eee; }
    .book.open .inside-left, .book.open .inside-right { visibility: visible; }

    .inside-left h2 { font-family: "Pacifico", cursive; font-size: 28px; margin-bottom: 10px; color:#333; }
    .inside-left p { color:#333; line-height:1.35; max-width:85%; }

    /* Front cover */
    .cover-right {
      position: absolute;
      top: 0; right: 0;
      width: 100%; /* closed: take full width */
      height: 100%;
      background: linear-gradient(135deg,#ff7eb9,#ff65a3 60%, #7afcff 100%);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      font-weight: bold; font-size: 2em; color: #fff;
      border-radius: 10px; /* full cover while closed */
      transform-origin: left center;
      transform-style: preserve-3d;
      backface-visibility: hidden;
      transition: transform 1s cubic-bezier(.2,.9,.2,1), width 1s ease, border-radius 1s ease;
      z-index: 2;
      cursor: pointer;
    }
    .cover-right .name { color: #ffd700; font-weight: 700; font-size: 16px; margin-top: 8px; }

    /* Flip + resize when open */
    .book.open .cover-right {
      width: 50%; /* becomes right page */
      border-radius: 0 10px 10px 0;
      transform: rotateY(-180deg);
    }

    /* Crease shadow */
    .crease {
      position: absolute;
      top: 0; bottom: 0;
      left: 50%; width: 2px;
      background: linear-gradient(to bottom, rgba(0,0,0,.25), rgba(0,0,0,.05));
      opacity: 0;
      transition: opacity .5s ease;
      z-index: 3;
      pointer-events: none;
    }
    .book.open .crease { opacity: 1; }

    /* Gift & Cake */
    .gift {
      position: relative;
      width: 160px; height: 160px;
      background: #ff4081; border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
    }
    .gift::before, .gift::after { content: ""; position: absolute; background: #fff; }
    .gift::before { width: 28px; height: 100%; left: 50%; top: 0; transform: translateX(-50%); }
    .gift::after { height: 28px; width: 100%; top: 50%; left: 0; transform: translateY(-50%); }
    .gift.open { background: transparent; }
    .gift.open::before, .gift.open::after { display: none; }

    .cake {
      position: absolute;
      bottom: -280px; left: 50%; transform: translateX(-50%);
      width: 140px; opacity: 0;
      transition: bottom .8s ease, opacity .3s ease;
    }
    .gift.open .cake { bottom: 10px; opacity: 1; }

    .layer { height: 38px; border-radius: 6px; margin-bottom: 6px; position: relative; }
    .layer.l1 { width: 75%; background: #ffe4b5; margin: 0 auto; }
    .layer.l2 { width: 90%; background: #ffcc70; margin: 0 auto; }
    .layer.l3 { width: 100%; background: #ffb347; }
    .frosting { position: absolute; left: 0; bottom: 0; width: 100%; height: 8px; background: #fff; border-radius: 50%; }

    .candles { display: flex; gap: 12px; justify-content: center; margin-top: -10px; }
    .candle { width: 10px; height: 26px; background: #4caf50; border-radius: 2px; position: relative; }
    .flame {
      width: 12px; height: 20px; position: absolute; top: -18px; left: -1px; border-radius: 50%;
      background: radial-gradient(circle at center,#ffeb3b 40%, #ff9800 90%);
      animation: flicker .3s infinite alternate;
    }
    @keyframes flicker { from { transform: rotate(-6deg) scale(1); } to { transform: rotate(6deg) scale(1.06); } }

    .celebrate {
      margin-top: 12px; padding: 10px 18px;
      background: #ff4081; color: #fff; border: 0; border-radius: 10px;
      cursor: pointer; transition: background .3s;
    }
    .celebrate:hover { background: #e91e63; }

    /* Confetti */
    .confetti {
      position: absolute; width: 10px; height: 10px;
      border-radius: 2px; opacity: 1; z-index: 1100;
    }
  </style>
</head>
<body>
  <div class="book" id="book">
    <!-- Cover -->
    <div class="cover-right">HAPPY BIRTHDAY <div class="name">NAME</div></div>

    <!-- Crease shadow -->
    <div class="crease"></div>

    <!-- Inside Pages -->
    <div class="inside-left">
      <h2>Happy Birthday!</h2>
      <p>Wishing you a day filled with happiness and a year filled with joy.</p>
    </div>
    <div class="inside-right">
      <div class="gift" id="gift">
        <div class="cake">
          <div class="candles">
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
          </div>
          <div class="layer l1"><div class="frosting"></div></div>
          <div class="layer l2"><div class="frosting"></div></div>
          <div class="layer l3"><div class="frosting"></div></div>
        </div>
      </div>
      <button class="celebrate" id="celebrateBtn">Celebrate üéÅ</button>
    </div>
  </div>

  <script>
    const book = document.getElementById('book');
    const gift = document.getElementById('gift');
    const celebrateBtn = document.getElementById('celebrateBtn');

    // Toggle open/close
    book.addEventListener('click', e => {
      if (e.target === celebrateBtn || gift.contains(e.target)) return;
      book.classList.toggle('open');
      if (!book.classList.contains('open')) gift.classList.remove('open');
    });

    // Celebrate button
    celebrateBtn.addEventListener('click', e => {
      e.stopPropagation();
      gift.classList.add('open');
      // Confetti burst
      for (let i = 0; i < 80; i++) {
        const c = document.createElement('div');
        c.className = 'confetti';
        c.style.left = Math.random()*100 + 'vw';
        c.style.top = '-20px';
        c.style.background = ['#FF6B6B','#FFD166','#06D6A0','#118AB2','#FF69B4'][Math.floor(Math.random()*5)];
        c.style.width = c.style.height = (6+Math.random()*8)+'px';
        document.body.appendChild(c);
        const dx = (Math.random()*200 - 100) + 'px';
        const dy = (window.innerHeight+100) + 'px';
        const rot = (Math.random()*720)+'deg';
        c.style.transition = `transform 2.5s linear, opacity 2.5s`;
        requestAnimationFrame(()=> {
          c.style.transform=`translate(${dx},${dy}) rotate(${rot})`;
          c.style.opacity='0';
        });
        setTimeout(()=>c.remove(),2600);
      }
    });
  </script>
</body>
</html>
